<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1356px" preserveAspectRatio="none" style="width:331px;height:1356px;" version="1.1" viewBox="0 0 331 1356" width="331px" zoomAndPan="magnify"><defs><filter height="300%" id="fkjmexp7p3v8r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="69" x="130" y="28.6855">Function</text><rect fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" height="280.8086" style="stroke: #000000; stroke-width: 2.0;" width="222" x="55" y="33.2168"/><path d="M119,34.2168 L119,43.8262 L109,53.8262 L55,53.8262 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="58" y="48.75">evaluate</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" style="stroke: #383838; stroke-width: 1.5;" width="100" x="115" y="63.8262"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="125" y="86.2832">_time: number</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="160" x="85" y="167.8379"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="95" y="190.2949">_time = _time - keyIn.time</text><polygon fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" points="165,118.9199,165,118.9199,177,130.9199,165,142.9199,165,142.9199,153,130.9199,165,118.9199" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="169" y="154.3389">[keyIn]</text><polygon fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" points="165,222.9316,177,234.9316,165,246.9316,153,234.9316,165,222.9316" style="stroke: #383838; stroke-width: 1.5;"/><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" style="stroke: #383838; stroke-width: 1.5;" width="200" x="65" y="266.9316"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="180" x="75" y="289.3887">a*_time^3+b*_time^2+c*_time+d</text><rect fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" height="539.5586" style="stroke: #000000; stroke-width: 2.0;" width="310" x="10" y="324.6016"/><path d="M76,325.6016 L76,335.2109 L66,345.2109 L10,345.2109 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="13" y="340.1348">calculate</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="65.2813" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="47" x="141.5" y="404.1289"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="151.5" y="426.5859">a = 0</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="151.5" y="441.6797">b = 0</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="26" x="151.5" y="456.7734">c = 0</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="219" x="55.5" y="489.4102"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="199" x="65.5" y="511.8672">d = keyIn ? keyIn.value : keyOut.value</text><polygon fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" points="165,355.2109,165,355.2109,177,367.2109,165,379.2109,165,379.2109,153,367.2109,165,355.2109" style="stroke: #383838; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="169" y="390.6299">[!keyIn || !keyOut]</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="223" x="53.5" y="566.5039"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="203" x="63.5" y="588.9609">x1: number = keyOut.time - keyIn.time</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="257" x="36.5" y="621.5977"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="236" x="46.5" y="644.0547">a = ((-x1)*(keyIn.slopeOut + keyOut.slopeIn)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="213" x="70.5" y="659.1484">-2*keyIn.value+2*keyOut.value) / (-x1)^3</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="50.1875" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="290" x="20" y="691.7852"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="270" x="30" y="714.2422">b = (keyOut.slopeIn - keyIn.slopeOut - 3 * a * x1^2)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="54" y="729.3359">/ 2 * x1</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="120" x="105" y="761.9727"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="115" y="784.4297">c = keyIn.slopeOut</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="100" x="115" y="817.0664"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="125" y="839.5234">d = keyIn.value</text><rect fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" height="229.8906" style="stroke: #000000; stroke-width: 2.0;" width="106" x="112" y="874.7363"/><path d="M176,875.7363 L176,885.3457 L166,895.3457 L112,895.3457 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="115" y="890.2695">setKeyIn</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" style="stroke: #383838; stroke-width: 1.5;" width="71" x="129.5" y="905.3457"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="139.5" y="927.8027">_key: Key</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="86" x="122" y="960.4395"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="132" y="982.8965">keyIn = _key</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="77" x="126.5" y="1015.5332"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="136.5" y="1037.9902">calculate()</text><ellipse cx="165" cy="1081.627" fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="165" cy="1081.627" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" height="229.8906" style="stroke: #000000; stroke-width: 2.0;" width="115" x="107.5" y="1115.2031"/><path d="M183.5,1116.2031 L183.5,1125.8125 L173.5,1135.8125 L107.5,1135.8125 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="110.5" y="1130.7363">setKeyOut</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" style="stroke: #383838; stroke-width: 1.5;" width="71" x="129.5" y="1145.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="139.5" y="1168.2695">_key: Key</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="95" x="117.5" y="1200.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="127.5" y="1223.3633">keyOut = _key</text><rect fill="#F8F8F8" filter="url(#fkjmexp7p3v8r)" height="35.0938" rx="12.5" ry="12.5" style="stroke: #383838; stroke-width: 1.5;" width="77" x="126.5" y="1256"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="136.5" y="1278.457">calculate()</text><ellipse cx="165" cy="1322.0938" fill="#FFFFFF" filter="url(#fkjmexp7p3v8r)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="165" cy="1322.0938" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="142.9199" y2="167.8379"/><polygon fill="#383838" points="161,157.8379,165,167.8379,169,157.8379,165,161.8379" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="177" x2="255" y1="130.9199" y2="130.9199"/><polygon fill="#383838" points="251,175.3848,255,185.3848,259,175.3848,255,179.3848" style="stroke: #383838; stroke-width: 1.5;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="255" x2="255" y1="130.9199" y2="234.9316"/><line style="stroke: #383838; stroke-width: 1.5;" x1="255" x2="177" y1="234.9316" y2="234.9316"/><polygon fill="#383838" points="187,230.9316,177,234.9316,187,238.9316,183,234.9316" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="202.9316" y2="222.9316"/><polygon fill="#383838" points="161,212.9316,165,222.9316,169,212.9316,165,216.9316" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="98.9199" y2="118.9199"/><polygon fill="#383838" points="161,108.9199,165,118.9199,169,108.9199,165,112.9199" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="246.9316" y2="266.9316"/><polygon fill="#383838" points="161,256.9316,165,266.9316,169,256.9316,165,260.9316" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="469.4102" y2="489.4102"/><polygon fill="#383838" points="161,479.4102,165,489.4102,169,479.4102,165,483.4102" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="379.2109" y2="404.1289"/><polygon fill="#383838" points="161,394.1289,165,404.1289,169,394.1289,165,398.1289" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="177" x2="284.5" y1="367.2109" y2="367.2109"/><polygon fill="#383838" points="280.5,458.8164,284.5,468.8164,288.5,458.8164,284.5,462.8164" style="stroke: #383838; stroke-width: 1.5;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="284.5" x2="284.5" y1="367.2109" y2="546.5039"/><line style="stroke: #383838; stroke-width: 1.5;" x1="284.5" x2="165" y1="546.5039" y2="546.5039"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="546.5039" y2="566.5039"/><polygon fill="#383838" points="161,556.5039,165,566.5039,169,556.5039,165,560.5039" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="601.5977" y2="621.5977"/><polygon fill="#383838" points="161,611.5977,165,621.5977,169,611.5977,165,615.5977" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="671.7852" y2="691.7852"/><polygon fill="#383838" points="161,681.7852,165,691.7852,169,681.7852,165,685.7852" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="741.9727" y2="761.9727"/><polygon fill="#383838" points="161,751.9727,165,761.9727,169,751.9727,165,755.9727" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="797.0664" y2="817.0664"/><polygon fill="#383838" points="161,807.0664,165,817.0664,169,807.0664,165,811.0664" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="940.4395" y2="960.4395"/><polygon fill="#383838" points="161,950.4395,165,960.4395,169,950.4395,165,954.4395" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="995.5332" y2="1015.5332"/><polygon fill="#383838" points="161,1005.5332,165,1015.5332,169,1005.5332,165,1009.5332" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="1050.627" y2="1070.627"/><polygon fill="#383838" points="161,1060.627,165,1070.627,169,1060.627,165,1064.627" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="1180.9063" y2="1200.9063"/><polygon fill="#383838" points="161,1190.9063,165,1200.9063,169,1190.9063,165,1194.9063" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="1236" y2="1256"/><polygon fill="#383838" points="161,1246,165,1256,169,1246,165,1250" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.5;" x1="165" x2="165" y1="1291.0938" y2="1311.0938"/><polygon fill="#383838" points="161,1301.0938,165,1311.0938,169,1301.0938,165,1305.0938" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml Function
skinparam monochrome true

title Function

partition evaluate {
	:_time: number]
	if() then ([keyIn])
		:_time = _time - keyIn.time;
	endif
	:a*_time^3+b*_time^2+c*_time+d]
	detach
}

partition calculate {
	if() then ([!keyIn || !keyOut])
		:a = 0
		b = 0
		c = 0;
		:d = keyIn ? keyIn.value : keyOut.value;
		detach
	endif
	:x1: number = keyOut.time - keyIn.time;
	:a = ((-x1)*(keyIn.slopeOut + keyOut.slopeIn)
		-2*keyIn.value+2*keyOut.value) / (-x1)^3;
	:b = (keyOut.slopeIn - keyIn.slopeOut - 3 * a * x1^2)
		/ 2 * x1;
	:c = keyIn.slopeOut;
	:d = keyIn.value;
	detach
}

partition setKeyIn {
	:_key: Key]
	:keyIn = _key;
	:calculate(); 
	stop
}

partition setKeyOut {
	:_key: Key]
	:keyOut = _key;
	:calculate();
	stop 
}

@endpuml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>